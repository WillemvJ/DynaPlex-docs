

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="">
    
    
      
        <title>Adding your MDP model - DynaPlex  documentation</title>
      
    
    
      
        
        
      
      

    
    
    
      
        
        
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
        <link rel="stylesheet" type="text/css" href="../_static/sphinx_immaterial_theme.18f6a3adf736b3afd.min.css?v=4071ca33" />
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="darkcyan" data-md-color-accent="cornflowerblue">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="DynaPlex  documentation" class="md-header__button md-logo" aria-label="DynaPlex  documentation" data-md-component="logo">
      <img src="../_static/icon.png" alt="logo">
    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DynaPlex  documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Adding your MDP model
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="darkcyan" data-md-color-accent="cornflowerblue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="darkcyan" data-md-color-accent="cornflowerblue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/WillemvJ/DynaPlexPrivate/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    DynaPlexPrivate
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="DynaPlex  documentation" class="md-nav__button md-logo" aria-label="DynaPlex  documentation" data-md-component="logo">
      <img src="../_static/icon.png" alt="logo">
    </a>
    DynaPlex  documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/WillemvJ/DynaPlexPrivate/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    DynaPlexPrivate
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" checked>
      
      
      
        <label class="md-nav__link" for="__nav_1">
          <span class="md-ellipsis">Getting started</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Getting started" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Getting started</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="introduction_to_mdp.html" class="md-nav__link">
        <span title="/getting_started/introduction_to_mdp.rst (reference label)" class="md-ellipsis">A brief introduction to MDPs</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="installation.html" class="md-nav__link">
        <span title="/getting_started/installation.rst (reference label)" class="md-ellipsis">Installation instructions</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="conda.html" class="md-nav__link">
        <span title="/getting_started/conda.rst (reference label)" class="md-ellipsis">Conda Environment Setup</span>
      </a>
    </li>
  

            
          
            
              
  
  
    
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          <span title="/getting_started/adding_model.rst (reference label)" class="md-ellipsis">Adding your MDP model</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="#" class="md-nav__link md-nav__link--active">
        <span title="/getting_started/adding_model.rst (reference label)" class="md-ellipsis">Adding your MDP model</span>
      </a>
      
        

<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#understanding-what-needs-to-be-provided" class="md-nav__link">
    <span title="/getting_started/adding_model.rst#understanding-what-needs-to-be-provided (reference label)" class="md-ellipsis">Understanding what needs to be provided</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-a-new-model" class="md-nav__link">
    <span title="/getting_started/adding_model.rst#adding-a-new-model (reference label)" class="md-ellipsis">Adding a new model</span>
  </a>
  
    <nav class="md-nav" aria-label="Adding a new model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#copy-an-mdp-and-register-it-under-a-new-name" class="md-nav__link">
    <span title="/getting_started/adding_model.rst#copy-an-mdp-and-register-it-under-a-new-name (reference label)" class="md-ellipsis">Copy an MDP and register it under a new name:<wbr></span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#change-code-in-template" class="md-nav__link">
    <span title="/getting_started/adding_model.rst#change-code-in-template (reference label)" class="md-ellipsis">Change code in template</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#details-on-namespaces-directory-names-ids-registration" class="md-nav__link">
    <span title="/getting_started/adding_model.rst#details-on-namespaces-directory-names-ids-registration (reference label)" class="md-ellipsis">Details on Namespaces, Directory Names, IDs, Registration</span>
  </a>
  
    <nav class="md-nav" aria-label="Details on Namespaces, Directory Names, IDs, Registration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#naming-the-mdp-class" class="md-nav__link">
    <span title="/getting_started/adding_model.rst#naming-the-mdp-class (reference label)" class="md-ellipsis">Naming the MDP Class</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-definitions" class="md-nav__link">
    <span title="/getting_started/adding_model.rst#function-definitions (reference label)" class="md-ellipsis">Function Definitions</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#incorporating-custom-policies" class="md-nav__link">
    <span title="/getting_started/adding_model.rst#incorporating-custom-policies (reference label)" class="md-ellipsis">Incorporating Custom Policies</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="testing.html" class="md-nav__link">
        <span title="/getting_started/testing.rst (reference label)" class="md-ellipsis">Unit testing</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2">
          <span class="md-ellipsis">Tutorial</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tutorial" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Tutorial</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/airplane_mdp.html" class="md-nav__link">
        <span title="/tutorial/airplane_mdp.rst (reference label)" class="md-ellipsis">Airplane MDP formulation</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/setup.html" class="md-nav__link">
        <span title="/tutorial/setup.rst (reference label)" class="md-ellipsis">Setting up</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/adding_mdp.html" class="md-nav__link">
        <span title="/tutorial/adding_mdp.rst (reference label)" class="md-ellipsis">Implementing the Airplane MDP</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/policy.html" class="md-nav__link">
        <span title="/tutorial/policy.rst (reference label)" class="md-ellipsis"><wbr>[Optional] Custom policy</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/testing_running.html" class="md-nav__link">
        <span title="/tutorial/testing_running.rst (reference label)" class="md-ellipsis">Testing and running the MDP</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3">
          <span class="md-ellipsis">Reference</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Reference</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/model_ref.html" class="md-nav__link">
        <span title="/reference/model_ref.rst (reference label)" class="md-ellipsis">Modelling reference</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/policy_ref.html" class="md-nav__link">
        <span title="/reference/policy_ref.rst (reference label)" class="md-ellipsis">Custom policy reference</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/exact_ref.html" class="md-nav__link">
        <span title="/reference/exact_ref.rst (reference label)" class="md-ellipsis">Exact policy reference</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/event.html" class="md-nav__link">
        <span title="/reference/event.rst (reference label)" class="md-ellipsis">Event class reference</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/mdp.html" class="md-nav__link">
        <span title="/reference/mdp.rst (reference label)" class="md-ellipsis">MDP class reference</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/state.html" class="md-nav__link">
        <span title="/reference/state.rst (reference label)" class="md-ellipsis">State class reference</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/tester.html" class="md-nav__link">
        <span title="/reference/tester.rst (reference label)" class="md-ellipsis">Tester class reference</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4">
          <span class="md-ellipsis">Algorithms</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Algorithms" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Algorithms</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../algorithms/algorithms.html" class="md-nav__link">
        <span title="/algorithms/algorithms.rst (reference label)" class="md-ellipsis">Algorithms</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5">
          <span class="md-ellipsis">Getting help and Contributing</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Getting help and Contributing" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Getting help and Contributing</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../community/contributing.html" class="md-nav__link">
        <span title="/community/contributing.rst (reference label)" class="md-ellipsis">Contributing</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../community/getting_help.html" class="md-nav__link">
        <span title="/community/getting_help.rst (reference label)" class="md-ellipsis">Getting help</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6">
          <span class="md-ellipsis">Troubleshooting</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Troubleshooting" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Troubleshooting</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/faq.html" class="md-nav__link">
        <span title="/faq/faq.rst (reference label)" class="md-ellipsis">Troubleshooting</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
        <label class="md-nav__link" for="__nav_7">
          <span class="md-ellipsis">Legacy</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Legacy" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Legacy</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../legacy/legacy.html" class="md-nav__link">
        <span title="/legacy/legacy.rst (reference label)" class="md-ellipsis">Changes from Legacy <wbr>(v0.<wbr>0)</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset" role="main">
                  


<h1 id="adding-your-mdp-model">Adding your MDP model<a class="headerlink" href="#adding-your-mdp-model" title="Permalink to this heading">¶</a></h1>
<p>DynaPlex facilitates the extension with new native models (e.g., Markov Decision Processes (MDPs) and policies). This document explains how to add an additional model, which will then be generally usable and retrievable (both in Python and for the generic C++ functionality).</p>
<div class="seealso admonition">
<p class="admonition-title">See also</p>
<p>If you instead want to have a step-by-step guide for adding a model, we refer to the Tutorial pages, starting with <a class="reference internal" href="../tutorial/airplane_mdp.html#label-airplane"><span class="std std-ref">Airplane MDP formulation</span></a>.</p>
</div>
<h2 id="understanding-what-needs-to-be-provided">Understanding what needs to be provided<a class="headerlink" href="#understanding-what-needs-to-be-provided" title="Permalink to this heading">¶</a></h2>
<p>To begin, review the implementations under <code class="docutils literal notranslate"><span class="pre">src/lib/models/models</span></code>, especially the one in <code class="docutils literal notranslate"><span class="pre">src/lib/models/models/lost_sales</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">lost_sales</span></code> model offers both a native MDP (in <code class="docutils literal notranslate"><span class="pre">../lost_sales/mdp.h</span></code> and <code class="docutils literal notranslate"><span class="pre">../lost_sales/mdp.cpp</span></code>) and a native policy (in <code class="docutils literal notranslate"><span class="pre">../lost_sales/policies.h</span></code> and <code class="docutils literal notranslate"><span class="pre">../lost_sales/policies.cpp</span></code>). It’s possible to define an MDP without native policies by excluding the <code class="docutils literal notranslate"><span class="pre">policies.*</span></code> files. Standard policies (like “random”) and learned policies will be available for every MDP, so it is not strictly needed to define policies, and when defining your first MDP, you could do well without it. Additionally, some JSON files are provided, acting as default configuration files for unit testing. They also help in understanding the configuration parameters that an MDP accepts, as a form of documentation.</p>
<h2 id="adding-a-new-model">Adding a new model<a class="headerlink" href="#adding-a-new-model" title="Permalink to this heading">¶</a></h2>
<p>Adding a model is easiest in debug mode, such as in WinDeb or LinDeb.</p>
<p>Start by copying the code of an existing MDP and registering it under a new name.</p>
<div class="hint admonition">
<p class="admonition-title">Hint</p>
<p>We advise you to start with the <code class="docutils literal notranslate"><span class="pre">empty_example</span></code> as your starting MDP</p>
</div>
<h3 id="copy-an-mdp-and-register-it-under-a-new-name">Copy an MDP and register it under a new name:<a class="headerlink" href="#copy-an-mdp-and-register-it-under-a-new-name" title="Permalink to this heading">¶</a></h3>
<ol class="arabic simple">
<li><p><strong>Duplicate Directory</strong>: Copy the content of a directory associated with an existing MDP to a new directory. Name this new directory to match your new MDP’s desired name (e.g., “mdp_id” in this example).
- Choose an MDP with similar functionality if possible. Another option is <code class="docutils literal notranslate"><span class="pre">../models/models/empty_example/</span></code>, which is an MDP that throws NotImplementedExceptions in most functions, meaning that those can be reimplemented later with the desired functionality.</p></li>
<li><p><strong>Cleanup</strong>: From the new directory, delete <code class="docutils literal notranslate"><span class="pre">policy.h</span></code>, <code class="docutils literal notranslate"><span class="pre">policy.cpp</span></code>, and all <code class="docutils literal notranslate"><span class="pre">.json</span></code> config files except for <code class="docutils literal notranslate"><span class="pre">mdp_config_0.json</span></code> (skip step if using <code class="docutils literal notranslate"><span class="pre">/empty_example/</span></code>).</p></li>
<li><p><strong>Remove Policy References</strong>: Delete any references to policies in these files. (skip step if using <code class="docutils literal notranslate"><span class="pre">/empty_example/</span></code>).</p></li>
<li><p><strong>Namespace Update</strong>: Modify namespaces in <code class="docutils literal notranslate"><span class="pre">mdp.h</span></code> and <code class="docutils literal notranslate"><span class="pre">mdp.cpp</span></code> in the newly created directory. For example, change from <code class="docutils literal notranslate"><span class="pre">lost_sales</span></code> or <code class="docutils literal notranslate"><span class="pre">empty_example</span></code> to the new name (<code class="docutils literal notranslate"><span class="pre">mdp_id</span></code>).
- Refer to the below <code class="docutils literal notranslate"><span class="pre">Namespaces</span></code> section for more details.</p></li>
<li><p><strong>Register Function</strong>: Adjust the <code class="docutils literal notranslate"><span class="pre">MDP::Register</span></code> function in <code class="docutils literal notranslate"><span class="pre">../models/models/mdp_id/mdp.cpp</span></code> to register the new MDP under an appropriate “mdp_id” (matching the directory name) and include an appropriate description for your MDP.</p></li>
<li><p><strong>Registration Manager</strong>: In <code class="docutils literal notranslate"><span class="pre">/models/models/registrationmanager.cpp</span></code>, forward-declare the Register function for the new model in the appropriate namespace. Call this function within the <code class="docutils literal notranslate"><span class="pre">RegisterAll</span></code> function.
- Refer to the below <code class="docutils literal notranslate"><span class="pre">Namespaces</span></code> section for more details.</p></li>
</ol>
<p>Following these steps allows for creating a duplicate of an MDP registered under a new name. Ensure that the code compiles and runs without issues. If problems arise, refer to the <a class="reference internal" href="../faq/faq.html#label-troubleshooting"><span class="std std-ref">Troubleshooting</span></a> section.</p>
<h3 id="change-code-in-template">Change code in template<a class="headerlink" href="#change-code-in-template" title="Permalink to this heading">¶</a></h3>
<p>Iteratively combine the following steps to adjust the MDP to your desired logic:</p>
<ol class="arabic simple">
<li><p><strong>Modify Member Variables</strong>: Adjust member variables in both the <cite>mdp</cite> and nested <cite>state</cite> struct located in <cite>mdp.h</cite>: Make sure to update the functions providing serialization and initiation within the class body.</p></li>
<li><p><strong>Initial State Logic</strong>: Provide logic for creating an initial state.</p></li>
<li><p><strong>State Transition Logic</strong>: Update the logic in functions that determine state transitions, i.e., ModifyStateWith…</p></li>
<li><p><strong>Custom Event Logic</strong>: Default events are <cite>int64_t</cite>, but often this is not appropriate.</p></li>
<li><p><strong>Modify the Test Configuration</strong>: While adapting the logic, make sure to keep the <cite>mdp_config_0</cite> up to date to ensure that the MDP can be tested.</p></li>
</ol>
<p>Running <code class="docutils literal notranslate"><span class="pre">dp_mdp_unit_tests</span></code> is a must to avoid oversights.</p>
<p>To verify that your code logic is in order, you might want to visualize a sequence of states when following some policy. For an example, see the test <code class="docutils literal notranslate"><span class="pre">TEST(bin_packing,</span> <span class="pre">trace)</span></code> in <code class="docutils literal notranslate"><span class="pre">src/tests/mdp_unit_tests/t_bin_packing.cpp</span></code>.</p>
<h2 id="details-on-namespaces-directory-names-ids-registration">Details on Namespaces, Directory Names, IDs, Registration<a class="headerlink" href="#details-on-namespaces-directory-names-ids-registration" title="Permalink to this heading">¶</a></h2>
<p>When adding a new MDP, consistency in naming directories, files, classes, and namespaces is essential. In the examples below, the placeholder <code class="docutils literal notranslate"><span class="pre">mdp_id</span></code> represents the name identifier for the MDP. Ensure you replace each mention of <code class="docutils literal notranslate"><span class="pre">mdp_id</span></code> with the appropriate name for the new MDP you’re adding.</p>
<h3 id="naming-the-mdp-class">Naming the MDP Class<a class="headerlink" href="#naming-the-mdp-class" title="Permalink to this heading">¶</a></h3>
<p>It’s recommended to name the MDP class simply as <code class="docutils literal notranslate"><span class="pre">MDP</span></code>. To differentiate it from other MDPs, it should be enclosed within a specific namespace:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><code><span class="c1">// File: ../models/models/mdp_id/mdp.h</span>
<span class="cp">#pragma once</span>

<span class="k">namespace</span><span class="w"> </span><span class="nn">DynaPlex</span><span class="o">::</span><span class="nn">Models</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Convention: MDP with id &quot;mdp_id&quot; is defined in namespace DynaPlex::Models::mdp_id</span>
<span class="w">    </span><span class="k">namespace</span><span class="w"> </span><span class="nn">mdp_id</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">class</span><span class="w"> </span><span class="nc">MDP</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Class definition goes here.</span>
<span class="w">        </span><span class="p">};</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<h3 id="function-definitions">Function Definitions<a class="headerlink" href="#function-definitions" title="Permalink to this heading">¶</a></h3>
<p>Ensure that corresponding function definitions align with the above declaration by defining them within the same namespace:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><code><span class="c1">// File: ../models/models/mdp_id/mdp.cpp</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;mdp.h&quot;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;dynaplex/erasure/mdpregistrar.h&quot;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;policies.h&quot;</span>

<span class="k">namespace</span><span class="w"> </span><span class="nn">DynaPlex</span><span class="o">::</span><span class="nn">Models</span><span class="o">::</span><span class="nn">mdp_id</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// function definitions</span>
<span class="p">}</span>
</code></pre></div>
</div>
<h3 id="incorporating-custom-policies">Incorporating Custom Policies<a class="headerlink" href="#incorporating-custom-policies" title="Permalink to this heading">¶</a></h3>
<p>If you decide to introduce custom policies in the future, make sure they are declared and defined within the consistent namespace, i.e., <code class="docutils literal notranslate"><span class="pre">DynaPlex::Models::mdp_id</span></code>.</p>
<p>Preferred filenames for policy files are <code class="docutils literal notranslate"><span class="pre">../models/models/mdp_id/policies.h</span></code> and <code class="docutils literal notranslate"><span class="pre">../models/models/mdp_id/policies.cpp</span></code>. For a working example, refer to the <code class="docutils literal notranslate"><span class="pre">lost_sales</span></code> model.</p>






                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="conda.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Conda Environment Setup" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Conda Environment Setup
            </div>
          </div>
        </a>
      
      
        
        <a href="testing.html" class="md-footer__link md-footer__link--next" aria-label="Next: Unit testing" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Unit testing
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  
  
  <div class="md-footer-meta md-typeset">
    
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-footer-copyright__highlight">
        &#169; Copyright 2023 - 2025, DynaPlex contributors.
        
    </div>
  
    Created using
    <a href="https://www.sphinx-doc.org/" target="_blank" rel="noopener">Sphinx</a>
    7.1.2.
     and
    <a href="https://github.com/jbms/sphinx-immaterial/" target="_blank" rel="noopener">Sphinx-Immaterial</a>
  
</div>
      
    </div>
    
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.top", "navigation.path", "navigation.prune", "toc.follow", "toc.integrate", "navigation.indexes"], "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike", "staticVersions": [{"aliases": [], "title": "v2.0", "version": ""}], "versionPath": null}}</script>
    
      
        <script src="../_static/sphinx_immaterial_theme.f9d9eeeb247ace16c.min.js?v=8ec58cb5"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
  </body>
</html>